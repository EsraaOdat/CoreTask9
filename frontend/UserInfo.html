<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Navbar</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
              <a class="nav-link active" aria-current="page" href="index.html">Home</a>
              <a class="nav-link" href="Category.html">Category</a>
              <a class="nav-link" href="Cart.html">Cart</a>
              <a class="nav-link" href="#">Pricing</a>
              <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
            </div>
          </div>
        </div>
      </nav>



      <div class="form-group">
        <label for="UserName">User Name</label>
        <input onchange="getData()" type="text" class="form-control" id="UserName" aria-describedby="emailHelp" placeholder="Enter User Name">
      </div>
      
      
      <div class="container mt-4" id="contentContainer">
        fff
      </div>
<!-- 
<script>
    async function getData() {
var UserName=document.getElementById("UserName").value;
        const url = `https://localhost:44384/api/Users/GetUserByName/${UserName}`;

            const response = await fetch(url);
           

            let data = await response.json();
            console.log('API Response:', data); 
            let product = Array.isArray(data) ? data[0] : data; 

            if (UserInfo ) {
                let cards = document.getElementById("contentContainer");
                cards.innerHTML = `
                   
       <div class="card">
  <div class="card-header">
    Featured
  </div>
  <div class="card-body">
    <h5 class="card-title">${UserInfo.username}</h5>
    <h5 class="card-title">${UserInfo.email}</h5>
        <h5 class="card-title">${UserInfo.phone}</h5>

    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
</div>
                `;
            } 
    }
    

    getData();
</script> -->

<script>
    async function getData() {
        var UserName = document.getElementById("UserName").value;
        const url = `https://localhost:44384/api/Users/GetUserByName/${UserName}`;

     
            const response = await fetch(url);

            // Check if the response is ok
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            let data = await response.json();
            console.log('API Response:', data); 
            
            // Use the first object if the API returns an array
            let userInfo = Array.isArray(data) ? data[0] : data; 

            if (userInfo) {
                let cards = document.getElementById("contentContainer");
                cards.innerHTML = `
                    <div class="card">
                        <div class="card-header">
                            User Information
                        </div>
                        <div class="card-body">
                              <img class="card-img-top" src="${userInfo.image}" alt="Card image cap" width="10px" height="20px">

                            <h5 class="card-title">${userInfo.username}</h5>
                            <h5 class="card-title">${userInfo.email}</h5>
                            <h5 class="card-title">${userInfo.phone}</h5>
                        </div>
                    </div>
                `;
            } 
        
    }
</script>
</body>
</html>
